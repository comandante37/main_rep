#include "stm32f4xx.h"
#include "Lab2_Test.h"
uint32_t test = 0;
uint32_t i = 0;
int main(void)
{
	Lab2_Test_ini(23);
	
	RCC->AHB1ENR |= RCC_AHB1ENR_GPIODEN;
	GPIOD->MODER = 0x55000000;
	GPIOD->OTYPER = 0x0;
	GPIOD->OSPEEDR = 0x0;
	
	
while(1){
	
	test = read_flag();
	
GPIOD->ODR = 0x1000;
	for(i=0; i<1000000; i++)
	{
	}

	GPIOD->ODR = 0x0000;
	
	
	
	GPIOD->ODR = 0x8000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
	
	
	GPIOD->ODR = 0x4000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
	
	
	
	
	GPIOD->ODR = 0x8000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
	
	
	GPIOD->ODR = 0x4000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
	
	
	GPIOD->ODR = 0x8000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
	
	
	GPIOD->ODR = 0x1000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
	
	
	GPIOD->ODR = 0x2000;
	for(i=0; i<1000000; i++)
	{
	}
	
	GPIOD->ODR = 0x0000;
}
}

